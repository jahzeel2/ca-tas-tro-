@using GeoSit.Client.Web.Controllers
@model GeoSit.Client.Web.Models.ExpedientesObras.SearchViewModel

<link href="~/Content/dataTables.bootstrap.css" rel="stylesheet" />
<link href="~/Content/bootstrap-switch.css" rel="stylesheet" />
<link href="~/Content/css/select2.css" rel="stylesheet" />
<link href="~/Content/select2-bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/bootstrap-fileinput/css/fileinput.min.css" rel="stylesheet" />
<link href="~/Content/formValidation.min.css" rel="stylesheet" />
@*<link href="~/Content/ExpedienteObra.css" rel="stylesheet" />*@

<div class="modal fade theme_new" id="expedienteObraModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="scroll-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="lblModalExpObra">@Resources.Recursos.AdministracionExpedientesObra</h3>
                    <span aria-hidden="true" class="fa fa-close fa-2x white cursor-pointer pull-right" data-dismiss="modal" aria-label="Cerrar" title="Cerrar"></span>
                </div>
                <div class="modal-body expedienteobra-body">
                    @Html.HiddenFor(model => model.LoadExpediente)
                    <div class="expedienteobra-content body-content">
                        <div id="message-error" class="alert alert-danger" style="display:none;">
                            <button type="button" class="close"><span aria-hidden="true">&times;</span></button>
                            <p></p>
                        </div>
                        <div class="panel-group accordion expedienteobra-datos" id="accordion-expediente-obra">
                            <div class="section-position">
                                <div class='panel-heading bg-primary main-heading' id='heading-busqueda'>
                                    <a data-toggle='collapse' data-parent='#accordion-expediente-obra' aria-expanded='true' href='#collapse-busqueda'
                                       aria-controls='collapse-busqueda' style="pointer-events: none">
                                        <div class='panel-title'>
                                            Búsqueda
                                            <i class="fa"></i>
                                        </div>
                                    </a>
                                </div>
                                <div class="panel-collapse collapse in main-collapse" id="collapse-busqueda" aria-labelledby='heading-busqueda'>
                                    <div class="panel-body" style="margin-bottom: 10px">
                                        <form id="busqueda-form">
                                            <div class="panel-group" style="margin-bottom: 0" id="accordionBusqueda" role="tablist" aria-multiselectable="true">
                                                <div>
                                                    <div role="tab" id="headingUT">
                                                        <ul class="list-inline">
                                                            <li>
                                                                <div class="circle">
                                                                    <div class="circle-inside">
                                                                        <div class="line-vert"></div>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <a role="button" data-toggle="collapse" data-parent="#accordionBusqueda" aria-expanded="true" aria-controls="collapseOne" id="accordionUT" class="collapseBusqueda" href="#">
                                                                    Unidad Tributaria
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div id="collapseUT" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                                                        <div class="panel-body panel-body-line">
                                                            <div class="form-group input-sm row">
                                                                <div class="col-xs-4">
                                                                    <div class="input-group">
                                                                        @Html.TextBoxFor(model => model.UnidadTributaria, new { @class = "form-control", @readonly = "true" })
                                                                        @Html.HiddenFor(model => model.UnidadTributariaId)
                                                                        <div class="input-group-addon cursor-pointer" id="ut-search">
                                                                            <span data-placement="bottom" title="Buscar Unidad Tributaria" class="fa-lg fa fa-search black cursor-pointer" aria-hidden="true"></span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div role="tab" id="headingTNE">
                                                        <ul class="list-inline">
                                                            <li>
                                                                <div class="circle">
                                                                    <div class="circle-inside">
                                                                        <div class="line-vert"></div>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordionBusqueda" aria-expanded="false" aria-controls="collapseTNE" id="accordionTNE" href="#">
                                                                    Tipo y Número de Expediente
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div id="collapseTNE" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTNE">
                                                        <div class="panel-body panel-body-line">
                                                            <div class="form-group input-sm row">
                                                                <div class="col-xs-2">
                                                                    <label class="radio-inline">
                                                                        @Html.RadioButtonFor(model => model.TipoPorNumero, "0", new { id = "numeroLegajo" }) Legajo
                                                                    </label>
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <label class="radio-inline">
                                                                        @Html.RadioButtonFor(model => model.TipoPorNumero, "1", new { id = "numeroExpediente" }) Expediente
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="form-group input-sm row">
                                                                <label class="control-label col-xs-1">Desde</label>
                                                                <div class="col-xs-3">
                                                                    @Html.TextBoxFor(model => model.NumeroDesde, new { @class = "form-control" })
                                                                </div>
                                                                <label class="control-label col-xs-1">Hasta</label>
                                                                <div class="col-xs-3">
                                                                    @Html.TextBoxFor(model => model.NumeroHasta, new { @class = "form-control" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div role="tab" id="headingFC">
                                                        <ul class="list-inline">
                                                            <li>
                                                                <div class="circle">
                                                                    <div class="circle-inside">
                                                                        <div class="line-vert"></div>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordionBusqueda" aria-expanded="false" aria-controls="collapseFC" id="accordionFC" href="#">
                                                                    Fecha de Creación
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div id="collapseFC" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFC">
                                                        <div class="panel-body panel-body-line">
                                                            <div class="form-group input-sm row">
                                                                <div class="col-xs-2">
                                                                    <label class="radio-inline">
                                                                        @Html.RadioButtonFor(model => model.TipoPorFecha, "0", new { id = "fechaLegajo" }) Legajo
                                                                    </label>
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <label class="radio-inline">
                                                                        @Html.RadioButtonFor(model => model.TipoPorFecha, "1", new { id = "fechaExpediente" }) Expediente
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="form-group input-sm row">
                                                                <label class="control-label col-xs-1">Desde</label>
                                                                <div class="col-xs-3">
                                                                    <div class="input-group date">
                                                                        @Html.TextBoxFor(model => model.FechaDesde, new { @class = "form-control" })
                                                                        <span class="input-group-addon">
                                                                            <span class="icon-th fa fa-calendar fa-lg light-blue cursor-pointer"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <label class="control-label col-xs-1">Hasta</label>
                                                                <div class="col-xs-3">
                                                                    <div class="input-group date">
                                                                        @Html.TextBoxFor(model => model.FechaHasta, new { @class = "form-control" })
                                                                        <span class="input-group-addon">
                                                                            <span class="icon-th fa fa-calendar fa-lg light-blue cursor-pointer"></span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div role="tab" id="headingPersona">
                                                        <ul class="list-inline">
                                                            <li>
                                                                <div class="circle">
                                                                    <div class="circle-inside">
                                                                        <div class="line-vert"></div>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordionBusqueda" aria-expanded="false" aria-controls="collapsePersona" id="accordionPersona" href="#">
                                                                    Persona
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div id="collapsePersona" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingPersona">
                                                        <div class="panel-body panel-body-line">
                                                            <div class="form-group input-sm row">
                                                                <div class="col-xs-5">
                                                                    <div class="input-group">
                                                                        @Html.TextBoxFor(model => model.Persona, new { @class = "form-control", @readonly = "true" })
                                                                        @Html.HiddenFor(model => model.PersonaId)
                                                                        <div class="input-group-addon cursor-pointer" id="persona-search">
                                                                            <span data-placement="bottom" title="Buscar Persona" class="fa-lg fa fa-search black cursor-pointer" aria-hidden="true"></span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div role="tab" id="headingEstado">
                                                        <ul class="list-inline">
                                                            <li>
                                                                <div class="circle">
                                                                    <div class="circle-inside"></div>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordionBusqueda" aria-expanded="false" aria-controls="collapseEstado" id="accordionEstado" href="#">
                                                                    Estado
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div id="collapseEstado" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingEstado">
                                                        <div class="panel-body">
                                                            <div class="form-group input-sm row">
                                                                <div class="col-xs-4">
                                                                    @Html.DropDownListFor(model => model.Estado, Model.EstadoList, new { @class = "form-control" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <span class="fa fa-search fa-2x black cursor-pointer pull-right" id="search-all"></span>
                                            <span class="fa fa-trash fa-2x black cursor-pointer boton-deshabilitado pull-right" id="clear-all"></span>
                                        </form>
                                    </div>
                                    <div class="panel-body">
                                        <div class="col-xs-11">
                                            <table id="busqueda" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                        <th>Expediente</th>
                                                        <th class="fecha">Fecha Expediente</th>
                                                        <th>Legajo</th>
                                                        <th class="fecha">Fecha Legajo</th>
                                                        <th></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>
                                        <div class="col-xs-1" id="expediente-controls">
                                            <dl>
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaExpedientesObra))
                                                {
                                                    <dt><span id="expediente-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaExpedientesObra))
                                                {
                                                    <dt><span id="expediente-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.ModificacionExpedientesObra))
                                                {
                                                    <dt><span id="expediente-edit" class="fa fa-pencil fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="section-position">
                                <div class='panel-heading bg-primary main-heading panel-deshabilitado' role='region' id='heading-identificacion'>
                                    <a data-toggle='collapse' data-parent='#accordion-expediente-obra' href='#collapse-identificacion' aria-expanded='false'
                                       aria-controls='collapse-identificacion' class="collapsed">
                                        <div class='panel-title'>
                                            Identificación
                                            <i class="fa"></i>
                                        </div>
                                    </a>
                                </div>
                                <div id="collapse-identificacion" class="panel-collapse collapse main-collapse" aria-labelledby='heading-identificacion'>
                                    <div class="panel-body">
                                        @Html.HiddenFor(model => model.ExpresionRegularExpediente)
                                        @Html.HiddenFor(model => model.ExpresionRegularLegajo)
                                        @Html.HiddenFor(model => model.ExpresionRegularChapa)
                                        @Html.HiddenFor(model => model.ExpresionRegularExpedienteVisible)
                                        @Html.HiddenFor(model => model.ExpresionRegularLegajoVisible)
                                        @Html.HiddenFor(model => model.ExpresionRegularChapaVisible)
                                        <input type="hidden" id="ActivarAutonumeracionLegajo" value="@ViewBag.ActivarAutonumeracionLegajo" />
                                        @using (Ajax.BeginForm(null, "Identificacion", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "identificacion-form", @class = "form-horizontal" }))
                                        {

                                        }
                                    </div>

                                    <div class="panel-body">
                                        <div class="col-xs-11">
                                            <h4>Unidades Tributarias</h4>
                                            <table id="unidades" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th class="hide"></th>
                                                        <th>Unidad Tributaria</th>
                                                        <th>Accion</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                            <small id="unidad-tributaria-error" class="help-block hide" style="color: #a94442">Debe adicionar al menos una Unidad Tributaria</small>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="unidades-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaUnidadesTributarias))
                                                {
                                                    <dt><span id="unidades-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaUnidadesTributarias))
                                                {
                                                    <dt><span id="unidades-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        @using (Ajax.BeginForm("Save", "TipoTramite", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "tipo-tramite-form", @class = "form-horizontal" }))
                                        {

                                        }
                                    </div>

                                    <div class="panel-body" id="ubicaciones-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Ubicación de la Obra</h4>
                                            <table id="ubicaciones" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th class="hide"></th>
                                                        <th>Calle</th>
                                                        <th>No</th>
                                                        <th>Barrio</th>
                                                        <th>Código Postal</th>
                                                        <th>Primario</th>
                                                        <th class="hide">Primario</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="ubicaciones-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaUbicacionObra))
                                                {
                                                    <dt><span id="ubicaciones-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaUbicacionObra))
                                                {
                                                    <dt><span id="ubicaciones-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.PrimarioUbicacionObra))
                                                {
                                                    <dt><span id="ubicaciones-primary" class="fa fa-bookmark fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true" data-toggle="tooltip" data-placement="top" data-original-title="Domicilio Primario"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>
                                    <div class="panel-body" id="ubicacion-panel-body">
                                        <div class="col-xs-12">
                                            <h4>Ubicación de la Obra</h4>
                                            @using (Ajax.BeginForm("Save", "Ubicacion", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "ubicacion-form", @class = "form-horizontal" }))
                                            {

                                            }
                                        </div>
                                    </div>

                                    <div class="panel-body" id="actas-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Actas</h4>
                                            <table id="actas" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th>Tipo</th>
                                                        <th>Número</th>
                                                        <th>Fecha</th>
                                                        <th>Inspector</th>
                                                        <th>Estado</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1">
                                        </div>
                                    </div>
                                    <div class="panel-body" id="estados-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Estados</h4>
                                            <table id="estados" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th class="hide"></th>
                                                        <th class="hide"></th>
                                                        <th>Estado</th>
                                                        <th>Fecha</th>
                                                        <th class="hide"></th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="estados-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaEstado))
                                                {
                                                    <dt><span id="estados-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.ModificarEstado))
                                                {
                                                    <dt><span id="estados-edit" class="fa fa-pencil fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>
                                    <div class="panel-body" id="estado-panel-body">
                                        <div class="col-xs-12">
                                            <h4>Estados</h4>
                                            @using (Ajax.BeginForm("Save", "Estado", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "estado-form", @class = "form-horizontal" }))
                                            {

                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="section-position">
                                <div class='panel-heading bg-primary main-heading panel-deshabilitado' role='region' id='heading-datos'>
                                    <a data-toggle='collapse' data-parent='#accordion-expediente-obra' href='#collapse-datos' aria-expanded='false'
                                       aria-controls='collapse-datos' class="collapsed">
                                        <div class='panel-title'>
                                            Datos Generales
                                            <i class="fa"></i>
                                        </div>
                                    </a>
                                </div>
                                <div id="collapse-datos" class="panel-collapse collapse main-collapse" aria-labelledby='heading-datos'>
                                    <div class="panel-body">
                                        @using (Ajax.BeginForm(null, "DatosGenerales", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "datos-form", @class = "form-horizontal" }))
                                        {

                                        }
                                    </div>
                                    <div class="panel-body" id="superficies-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Superficies</h4>
                                            <table id="superficies" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th class="hide"></th>
                                                        <th class="hide"></th>
                                                        <th class="hide"></th>
                                                        <th class="hide"></th>
                                                        <th>Fecha</th>
                                                        <th>Tipo</th>
                                                        <th>Superficie</th>
                                                        <th>Destino</th>
                                                        <th class="hide"></th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="superficies-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaSuperficie))
                                                {
                                                    <dt><span id="superficies-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaSuperficie))
                                                {
                                                    <dt><span id="superficies-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.ModificarSuperficie))
                                                {
                                                    <dt><span id="superficies-edit" class="fa fa-pencil fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>
                                    <div class="panel-body" id="superficie-panel-body">
                                        <div class="col-xs-12">
                                            <h4>Superficies</h4>
                                            @using (Ajax.BeginForm("Save", "Superficie", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "superficie-form", @class = "form-horizontal" }))
                                            {

                                            }
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        @using (Ajax.BeginForm("Save", "Servicio", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "servicio-form", @class = "form-horizontal" }))
                                        {

                                        }
                                    </div>
                                    <div class="panel-body" id="documentos-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Documentos</h4>
                                            <table id="documentos" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th class="hide"></th>
                                                        <th>Tipo</th>
                                                        <th>Descripción</th>
                                                        <th>Fecha</th>
                                                        <th>Archivo</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="documentos-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaDocumento))
                                                {
                                                    <dt><span id="documentos-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaDocumento))
                                                {
                                                    <dt><span id="documentos-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.ModificarDocumento))
                                                {
                                                    <dt><span id="documentos-edit" class="fa fa-pencil fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                                <dt><span id="documentos-view" class="fa fa-eye fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="section-position">
                                <div class='panel-heading bg-primary main-heading panel-deshabilitado' role='region' id='heading-personas'>
                                    <a data-toggle='collapse' data-parent='#accordion-expediente-obra' href='#collapse-personas' aria-expanded='false'
                                       aria-controls='collapse-personas' class="collapsed">
                                        <div class='panel-title'>
                                            Personas
                                            <i class="fa"></i>
                                        </div>
                                    </a>
                                </div>
                                <div id="collapse-personas" class="panel-collapse collapse main-collapse" aria-labelledby='heading-personas'>
                                    <div class="panel-body" id="personas-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Personas</h4>
                                            <table id="personas" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th class="hide"></th>
                                                        <th class="hide"></th>
                                                        <th class="hide"></th>
                                                        <th>Rol</th>
                                                        <th>Razón Social</th>
                                                        <th>Domicilio</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="personas-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaPersona))
                                                {
                                                    <dt><span id="personas-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaPersona))
                                                {
                                                    <dt><span id="personas-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>

                                    <div class="panel-body" id="persona-panel-body">
                                        <div class="col-xs-12">
                                            <h4>Personas</h4>
                                            @using (Ajax.BeginForm("Save", "PersonaExpedienteObra", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "persona-form", @class = "form-horizontal" }))
                                            {

                                            }
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="section-position">
                                <div class='panel-heading bg-primary main-heading panel-deshabilitado' role='region' id='heading-seguimiento'>
                                    <a data-toggle='collapse' data-parent='#accordion-expediente-obra' href='#collapse-seguimiento' aria-expanded='false'
                                       aria-controls='collapse-seguimiento' class="collapsed">
                                        <div class='panel-title'>
                                            Seguimiento
                                            <i class="fa"></i>
                                        </div>
                                    </a>
                                </div>
                                <div id="collapse-seguimiento" class="panel-collapse collapse main-collapse" aria-labelledby='heading-seguimiento'>
                                    <div class="panel-body" id="liquidaciones-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Liquidaciones</h4>
                                            <table id="liquidaciones" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        @if (ViewBag.liquidacionExterna != null && (bool)ViewBag.liquidacionExterna == true)
                                                        {
                                                            <th class="hide"></th>
                                                            <th>Fecha</th>
                                                            <th class="hide">Expediente</th>
                                                            <th>Importe</th>
                                                            <th>Unidad Tributaria</th>
                                                        }
                                                        else
                                                        {
                                                            <th class="hide"></th>
                                                            <th>Fecha</th>
                                                            <th>Nro Comprobante</th>
                                                            <th>Importe</th>
                                                            <th>Observaciones</th>
                                                        }
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="liquidaciones-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaLiquidacion))
                                                {
                                                    <dt><span id="liquidaciones-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaLiquidacion))
                                                {
                                                    <dt><span id="liquidaciones-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.ModificarLiquidacion))
                                                {
                                                    <dt><span id="liquidaciones-edit" class="fa fa-pencil fa-2x cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>

                                    <div class="panel-body" id="liquidacion-panel-body">
                                        <div class="col-xs-12">
                                            <h4>Liquidaciones</h4>
                                            @using (Ajax.BeginForm("Save", "Liquidacion", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "liquidacion-form", @class = "form-horizontal" }))
                                            {

                                            }
                                        </div>
                                    </div>

                                    @*<div class="panel-body" id="inspecciones-panel-body">
                        <div class="col-xs-11">
                            <h4>Inspecciones</h4>
                            <table id="inspecciones" class="table table-striped table-bordered table-responsive">
                                <thead>
                                    <tr>
                                        <th class="hide"></th>
                                        <th>Tipo</th>
                                        <th>Fecha</th>
                                        <th>Inspector</th>
                                        <th>Observaciones</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <div class="col-xs-1 controls-top">
                            <dl id="inspecciones-controls">
                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaInspeccion))
                                {
                                    <dt><span id="inspecciones-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                }
                            </dl>
                        </div>
                    </div>*@

                                    <div class="panel-body" id="controles-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Control Técnico</h4>
                                            <table id="controles" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th class="hide"></th>
                                                        <th>Fecha</th>
                                                        <th>Observaciones</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="controles-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaControlTecnico))
                                                {
                                                    <dt><span id="controles-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaControlTecnico))
                                                {
                                                    <dt><span id="controles-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.ModificarControlTecnico))
                                                {
                                                    <dt><span id="controles-edit" class="fa fa-pencil fa-2x cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>

                                    <div class="panel-body" id="control-panel-body">
                                        <div class="col-xs-12">
                                            <h4>Control Técnico</h4>
                                            @using (Ajax.BeginForm("Save", "ControlTecnico", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "control-form", @class = "form-horizontal" }))
                                            {

                                            }
                                        </div>
                                    </div>

                                    <div class="panel-body" id="observaciones-panel-body">
                                        <div class="col-xs-11">
                                            <h4>Observaciones</h4>
                                            <table id="observaciones" class="table table-striped table-bordered table-responsive">
                                                <thead>
                                                    <tr>
                                                        <th class="hide"></th>
                                                        <th>Fecha</th>
                                                        <th>Observaciones</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="col-xs-1 controls-top">
                                            <dl id="observaciones-controls">
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.AltaObservacion))
                                                {
                                                    <dt><span id="observaciones-insert" class="fa fa-plus-circle fa-2x black cursor-pointer" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.BajaObservacion))
                                                {
                                                    <dt><span id="observaciones-delete" class="fa fa-minus-circle fa-2x black cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                                @if (SeguridadController.ExisteFuncion(@Resources.Seguridad.ModificarObservacion))
                                                {
                                                    <dt><span id="observaciones-edit" class="fa fa-pencil fa-2x cursor-pointer boton-deshabilitado" aria-hidden="true"></span></dt>
                                                }
                                            </dl>
                                        </div>
                                    </div>

                                    <div class="panel-body" id="observacion-panel-body">
                                        <div class="col-xs-12">
                                            <h4>Observaciones</h4>
                                            @using (Ajax.BeginForm("Save", "Observacion", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "observacion-form", @class = "form-horizontal" }))
                                            {

                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer hidden">
                    <div class="col-xs-4 fa pull-right">
                        <span aria-hidden="true" aria-controls='button' data-placement="right" title="Guardar" data-original-title="Guardar" id="save-all" class="fa-save fa-2x black cursor-pointer"></span>
                        <span aria-hidden="true" aria-controls='button' data-placement="right" title="Cancelar" data-original-title="Cancelar" id="cancel-all" class="fa-undo fa-2x black cursor-pointer"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade theme_new mensaje" id="confirmModal" tabindex="-2" role="dialog" data-backdrop="static" aria-labelledby="TituloAdvertencia" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <input type="hidden" id="TipoAdvertencia" value="">
                <h3 class="modal-title" id="TituloAdvertencia">Titulo</h3>
                <span id="btnAdvertenciaCancel" aria-hidden="true" class="fa fa-close fa-2x white cursor-pointer pull-right" data-dismiss="modal" aria-label="Cerrar" title="Cerrar"></span>
                @*<span id="btnAdvertenciaNo" aria-hidden="true" class="fa fa-times-circle light-blue fa-2x cursor-pointer" data-dismiss="modal" aria-label="Cancelar" title="Cancelar"></span>*@
            </div>
            <div class="modal-body">
                <div id="MensajeAlerta" class="alert alert-warning alert-dismissible" role="alert">
                    <p id="DescripcionAdvertencia">Está a punto de DESACTIVAR al usuario Perez, Juan <br>Está seguro de continuar?</p>
                </div>
            </div>
            <div class="modal-footer">
                <div class="col-xs-4 fa pull-right">
                    <span id="btnAdvertenciaOK" aria-hidden="true" data-dismiss="modal" data-placement="right" title="Aceptar" data-original-title="Aceptar" class="fa fa-check-circle light-blue fa-2x cursor-pointer"></span>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade theme_new mensaje" id="displayModal" tabindex="-2" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Visualizaci&oacute;n del Plano</h3>
                <span aria-hidden="true" class="fa fa-close fa-2x white cursor-pointer pull-right" data-dismiss="modal" aria-label="Cerrar" title="Cerrar"></span>
            </div>
            <div class="modal-body centrado">
                <img id="documento-image" alt="imagen" height="400" />
            </div>
        </div>
    </div>
</div>

<div id="parcela-grafica-externo-container"></div>
<div id="contenedor-forms-externos"></div>
<div id="buscador-container"></div>
<div id="personas-externo-container"></div>

<script src="~/Scripts/jquery.dataTables.min.js"></script>
<script src="~/Scripts/dataTables.bootstrap.js"></script>
<script src="~/Scripts/select2.min.js"></script>
<script src="~/Scripts/fileinput.es.js"></script>
<script src="~/Scripts/jquery.form.js"></script>
<script src="~/Scripts/formValidation.min.js"></script>
<script src="~/Scripts/bootstrapValidation.min.js"></script>
<script src="~/Scripts/jquery.inputmask.js" type="text/javascript"></script>
<script src="~/Scripts/jquery.inputmask.regex.extensions.js" type="text/javascript"></script>
<script src="~/Scripts/ExpedienteObra/main.js"></script>